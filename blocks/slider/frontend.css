/**
 * Flexible Slider & Carousel Frontend CSS with Swiper.js
 * @package FlexibleSliderCarousel
 */

/* Swiper.js Core CSS - Required for slider functionality */

/* Minimal Swiper CSS so layout works without importing module CSS */
.swiper{position:relative;width:100%;box-sizing:border-box;overflow:hidden;border:none !important;outline:none !important;box-shadow:none !important}
.swiper-wrapper{display:flex;box-sizing:border-box;white-space:nowrap;will-change:transform}
.swiper-slide{height:100%;flex-shrink:0;white-space:normal;box-sizing:border-box}
/* Width will be set dynamically by Swiper.js based on slidesPerView */

/* All Swiper effects are handled natively - no custom overrides needed */

/* Swiper Navigation Buttons - Custom Colors via CSS Variables */
.swiper-button-prev,
.swiper-button-next {
    color: var(--arrow-text-color, #ffffff) !important;
    background-color: var(--arrow-background-color, #007cba) !important;
    border: 1px solid var(--arrow-background-color, #007cba) !important;
    border-radius: 4px;
}

.swiper-button-prev:hover,
.swiper-button-next:hover {
    background-color: var(--arrow-background-color-hover, #005a87) !important;
    border-color: var(--arrow-background-color-hover, #005a87) !important;
}

/* Swiper Pagination Dots - with CSS Variables */
.swiper-pagination {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 1rem;
    display: flex;
    justify-content: center;
    gap: 8px;
}

.swiper-pagination-bullet {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background-color: var(--dot-background-color, #dddddd);
    border: 1px solid var(--dot-background-color, #dddddd);
    opacity: 1;
    cursor: pointer;
    transition: all 0.2s ease;
}

.swiper-pagination-bullet:hover {
    background-color: var(--dot-background-color-hover, #00a0d2);
    border-color: var(--dot-background-color-hover, #00a0d2);
    transform: scale(1.2);
}

.swiper-pagination-bullet-active {
    background-color: var(--dot-background-color-active, #007cba);
    border-color: var(--dot-background-color-active, #007cba);
    transform: scale(1.2);
}

/* 3D Effects Fixes */
.swiper[data-effect="flip"] .swiper-slide,
.swiper[data-effect="coverflow"] .swiper-slide,
.swiper[data-effect="creative"] .swiper-slide {
    backface-visibility: hidden;
    transform-style: preserve-3d;
}

/* Flip Effect Fixes */
.swiper[data-effect="flip"] .swiper-slide {
    backface-visibility: hidden;
}

.swiper[data-effect="flip"] .swiper-slide .fsc-slide-inner {
    backface-visibility: hidden;
    transform-style: preserve-3d;
}



/* Coverflow Effect Fixes */
.swiper[data-effect="coverflow"] {
    perspective: 1000px;
}

.swiper[data-effect="coverflow"] .swiper-wrapper {
    transform-style: preserve-3d;
}

.swiper[data-effect="coverflow"] .swiper-slide {
    backface-visibility: hidden;
    transform-style: preserve-3d;
}

/* Creative Effect Fixes */
.swiper[data-effect="creative"] {
    perspective: 1000px;
}

.swiper[data-effect="creative"] .swiper-wrapper {
    transform-style: preserve-3d;
}

.swiper[data-effect="creative"] .swiper-slide {
    backface-visibility: hidden;
    transform-style: preserve-3d;
}

/* Ensure all slide content is properly hidden during 3D transforms */
.swiper[data-effect="flip"] .swiper-slide *,
.swiper[data-effect="coverflow"] .swiper-slide *,
.swiper[data-effect="creative"] .swiper-slide * {
    backface-visibility: hidden;
}

/* Peek Distance Implementation - Now handled by JavaScript for better control */
.swiper[data-peek] {
    /* Peek distance is now applied directly via JavaScript */
    overflow: visible;
}

/* Custom Animation Timing Functions */
.swiper-wrapper[data-timing="linear"] {
    transition-timing-function: linear !important;
}

.swiper-wrapper[data-timing="ease"] {
    transition-timing-function: ease !important;
}

.swiper-wrapper[data-timing="ease-in"] {
    transition-timing-function: ease-in !important;
}

.swiper-wrapper[data-timing="ease-out"] {
    transition-timing-function: ease-out !important;
}

.swiper-wrapper[data-timing="ease-in-out"] {
    transition-timing-function: ease-in-out !important;
}

.swiper-wrapper[data-timing="cubic-bezier"] {
    transition-timing-function: cubic-bezier(0.165, 0.840, 0.440, 1.000) !important;
}

/* Override Swiper's default timing with custom CSS variables */
.swiper-wrapper {
    transition-timing-function: var(--swiper-transition-timing, ease) !important;
}

/* Swiper.js Theme CSS - Basic styling */

/* CSS Variables for theme colors - with fallbacks */
:root {
    /* Primary colors - will be overridden by theme if available */
    --fsc-primary-color: #007cba;
    --fsc-secondary-color: #005a87;
    --fsc-accent-color: #00a0d2;
    
    /* Text colors */
    --fsc-text-color: #333333;
    --fsc-text-light: #666666;
    --fsc-text-white: #ffffff;
    
    /* Background colors */
    --fsc-bg-primary: #ffffff;
    --fsc-bg-secondary: #f5f5f5;
    --fsc-bg-overlay: rgba(0, 0, 0, 0.7);
    
    /* Border colors */
    --fsc-border-color: #dddddd;
    --fsc-border-light: #eeeeee;
    
    /* Shadow colors */
    --fsc-shadow-color: rgba(0, 0, 0, 0.1);
    
    /* Spacing */
    --fsc-spacing-xs: 0.25rem;
    --fsc-spacing-sm: 0.5rem;
    --fsc-spacing-md: 1rem;
    --fsc-spacing-lg: 1.5rem;
    --fsc-spacing-xl: 2rem;
    
    /* Border radius */
    --fsc-border-radius: 0;
    --fsc-border-radius-sm: 2px;
    --fsc-border-radius-md: 4px;
    
    /* Transitions */
    --fsc-transition: all 0.3s ease;
    --fsc-transition-fast: all 0.15s ease;
    
    /* Breakpoints - will be set by JavaScript based on slider settings */
    --fsc-breakpoint-desktop: 1140px;
    --fsc-breakpoint-tablet: 1024px;
    --fsc-breakpoint-phone: 768px;
    
    /* Navigation Colors - will be overridden by block attributes */
    --arrow-background-color: #007cba;
    --arrow-background-color-hover: #005a87;
    --arrow-text-color: #ffffff;
    --dot-background-color: #dddddd;
    --dot-background-color-hover: #00a0d2;
    --dot-background-color-active: #007cba;
    --tab-background-color: #f5f5f5;
    --tab-background-color-hover: #00a0d2;
    --tab-background-color-active: #007cba;
    --tab-text-color: #333333;
    --tab-text-color-hover: #ffffff;
    --tab-text-color-active: #ffffff;
    --tab-border-color: #dddddd;
    --tab-border-color-hover: #00a0d2;
    --tab-border-color-active: #007cba;
}

/* Slider Container */
.fsc-slider {
    position: relative;
    width: 100%;
    overflow: hidden;
    /* Check for common theme CSS variables */
    color: var(--fsc-text-color, inherit);
    background-color: var(--fsc-bg-primary, transparent);
    /* Ensure proper box-sizing for accurate width calculations */
    box-sizing: border-box;

}

/* Swiper.js Integration */
.fsc-slider {
    /* Basic slider container styling */
    position: relative;
    overflow: hidden;
}

/* Individual Frame */
.fsc-frame {
    /* Width will be set dynamically by JavaScript */
    box-sizing: border-box;
    /* Ensure content fits properly */
    max-width: 100%;

}

/* Navigation buttons - theme-aware styling */
.fsc-slider__nav {
    background-color: var(--fsc-primary-color, #007cba);
    color: var(--fsc-text-white, #ffffff);
    border: 1px solid var(--fsc-primary-color, #007cba);
    border-radius: var(--fsc-border-radius, 0);
    transition: var(--fsc-transition, all 0.3s ease);
    padding: var(--fsc-spacing-sm, 0.5rem);
    min-width: 40px;
    min-height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
    font-size: 18px;
    font-weight: bold;
    line-height: 1;
}

.fsc-slider__nav:hover {
    background-color: var(--fsc-secondary-color, #005a87);
    border-color: var(--fsc-secondary-color, #005a87);
    transform: translateY(-50%) scale(1.1);
}

.fsc-slider__nav:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: translateY(-50%) scale(1);
}

.fsc-slider__nav--prev {
    left: var(--fsc-spacing-md, 1rem);
}

.fsc-slider__nav--next {
    right: var(--fsc-spacing-md, 1rem);
}

/* Dots Navigation */
.fsc-slider__dots {
    display: flex;
    justify-content: center;
    gap: var(--fsc-spacing-sm, 0.5rem);
    margin-top: var(--fsc-spacing-md, 1rem);
    flex-wrap: wrap;
}

.fsc-slider__dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background-color: var(--fsc-border-color, #dddddd);
    border: none;
    cursor: pointer;
    transition: var(--fsc-transition-fast, all 0.15s ease);
    padding: 0;
    flex-shrink: 0;
}

.fsc-slider__dot:hover {
    background-color: var(--fsc-accent-color, #00a0d2);
    transform: scale(1.2);
}

.fsc-slider__dot--active {
    background-color: var(--fsc-primary-color, #007cba);
    transform: scale(1.2);
}

/* Text Navigation */
.fsc-slider__text-nav {
    margin: var(--fsc-spacing-md, 1rem) 0;
}

.fsc-slider__text-nav--above {
    order: -1;
    margin-bottom: var(--fsc-spacing-md, 1rem);
}

.fsc-slider__text-nav--below {
    margin-top: var(--fsc-spacing-md, 1rem);
}

.fsc-slider__frame-titles {
    display: flex;
    gap: var(--fsc-spacing-sm, 0.5rem);
    flex-wrap: wrap;
    justify-content: center;
}

.fsc-slider__frame-title {
    background-color: var(--tab-background-color, #f5f5f5);
    border: 1px solid var(--tab-border-color, #dddddd);
    border-radius: var(--fsc-border-radius-sm, 2px);
    padding: var(--fsc-spacing-sm, 0.5rem) var(--fsc-spacing-md, 1rem);
    cursor: pointer;
    transition: var(--fsc-transition-fast, all 0.15s ease);
    text-decoration: none;
    display: inline-block;
    white-space: nowrap;
    max-width: 200px;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--tab-text-color, #333333);
}

.fsc-slider__frame-title:hover {
    background-color: var(--tab-background-color-hover, #00a0d2);
    border-color: var(--tab-background-color-hover, #00a0d2);
    color: var(--tab-text-color-hover, #ffffff);
}

.fsc-slider__frame-title--active {
    background-color: var(--tab-background-color-active, #007cba);
    border-color: var(--tab-border-color-active, #007cba);
    color: var(--tab-text-color-active, #ffffff);
    box-shadow: var(--fsc-shadow-color, rgba(0, 0, 0, 0.1)) 0 2px 4px;
}

/* Responsive Design */
@media (max-width: 768px) {
    .fsc-slider__nav {
        min-width: 36px;
        min-height: 36px;
        font-size: 16px;
    }
    
    .fsc-slider__nav--prev {
        left: var(--fsc-spacing-sm, 0.5rem);
    }
    
    .fsc-slider__nav--next {
        right: var(--fsc-spacing-sm, 0.5rem);
    }
    
    .fsc-slider__frame-titles {
        gap: var(--fsc-spacing-xs, 0.25rem);
    }
    
    .fsc-slider__frame-title {
        padding: var(--fsc-spacing-xs, 0.25rem) var(--fsc-spacing-sm, 0.5rem);
        max-width: 150px;
    }
}

/* Accessibility */
.fsc-slider__nav:focus,
.fsc-slider__dot:focus,
.fsc-slider__frame-title:focus {
    outline: 2px solid var(--fsc-accent-color, #00a0d2);
    outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .fsc-slider__nav {
        border-width: 2px;
    }
    
    .fsc-slider__dot {
        border: 1px solid var(--fsc-text-color, #333333);
    }
    
    .fsc-slider__frame-title {
        border-width: 2px;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .fsc-slider__nav,
    .fsc-slider__dot,
    .fsc-slider__frame-title {
        transition: none;
    }
    
    .fsc-slider__nav:hover {
        transform: translateY(-50%);
    }
    
    .fsc-slider__dot:hover,
    .fsc-slider__dot--active {
        transform: scale(1);
    }
}
